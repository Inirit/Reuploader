{"version":3,"file":"options.bundle.js","sources":["../../../ts/handlers/HandlerType.ts","../../../ts/options/ExtensionOptionsBase.ts","../../../ts/options/ImgurOptions.ts","../../../ts/options/PrimaryOptions.ts","../../../ts/options/OptionsMain.ts"],"sourcesContent":["enum HandlerType\r\n{\r\n\tPomf,\r\n\tImgur,\r\n\tPostImage\r\n}\r\n\r\nexport default HandlerType;\r\n","abstract class ExtensionOptionsBase\r\n{\r\n\tprotected static async GetOptions(defaultOptions: browser.storage.StorageObject): Promise<browser.storage.StorageObject>\r\n\t{\r\n\t\tconst options = await browser.storage.local.get(defaultOptions);\r\n\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected static async GetOption<T extends browser.storage.StorageValue>(name: string, defaultOptions: browser.storage.StorageObject)\r\n\t{\r\n\t\tconst options = await this.GetOptions(defaultOptions);\r\n\t\tconst value = options[name];\r\n\r\n\t\tconsole.debug(`Got '${name}' with value '${value}'`);\r\n\r\n\t\treturn value as T;\r\n\t}\r\n\r\n\tprotected static async SetOption(name: string, value: browser.storage.StorageValue)\r\n\t{\r\n\t\tconsole.debug(`Setting '${name}' to '${value}'`);\r\n\r\n\t\tif (value)\r\n\t\t{\r\n\t\t\tconst options = await browser.storage.local.get(name);\r\n\t\t\toptions[name] = value;\r\n\r\n\t\t\tawait browser.storage.local.set(options);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tawait browser.storage.local.remove(name);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default ExtensionOptionsBase;\r\n","import ExtensionOptionsBase from \"./ExtensionOptionsBase\";\r\n\r\nclass ImgurOptions extends ExtensionOptionsBase\r\n{\r\n\tpublic static readonly ClientId: string = \"4a4f81163ed1219\";\r\n\r\n\tprivate static readonly _defaultOptions: browser.storage.StorageObject = {\r\n\t\t\"AccessToken\": undefined,\r\n\t\t\"ExpiresIn\": undefined,\r\n\t\t\"TokenType\": undefined,\r\n\t\t\"RefreshToken\": undefined,\r\n\t\t\"AccountName\": undefined,\r\n\t\t\"AccountId\": undefined\r\n\t};\r\n\r\n\tprivate static readonly _accessTokenName = \"AccessToken\";\r\n\tprivate static readonly _expiresInName = \"ExpiresIn\";\r\n\tprivate static readonly _tokenTypeName = \"TokenType\";\r\n\tprivate static readonly _refreshTokenName = \"RefreshToken\";\r\n\tprivate static readonly _accountNameName = \"AccountName\";\r\n\tprivate static readonly _accountIdName = \"AccountId\";\r\n\r\n\tpublic static async GetAccessToken(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accessTokenName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetExpiresIn(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._expiresInName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetTokenType(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._tokenTypeName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetRefreshToken(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._refreshTokenName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetAccountName(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accountNameName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetAccountId(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accountIdName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async SetAuthInfo(authResponse: string)\r\n\t{\r\n\t\tconst params = this.GetParamsFromResponseUrl(authResponse);\r\n\r\n\t\tawait this.SetAccessToken(params[\"access_token\"]);\r\n\t\tawait this.SetExpiresIn(params[\"expires_in\"]);\r\n\t\tawait this.SetTokenType(params[\"token_type\"]);\r\n\t\tawait this.SetRefreshToken(params[\"refresh_token\"]);\r\n\t\tawait this.SetAccountName(params[\"account_username\"]);\r\n\t\tawait this.SetAccountId(params[\"account_id\"]);\r\n\t}\r\n\r\n\tprivate static async SetAccessToken(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accessTokenName, value);\r\n\t}\r\n\r\n\tprivate static async SetExpiresIn(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._expiresInName, value);\r\n\t}\r\n\r\n\tprivate static async SetTokenType(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._tokenTypeName, value);\r\n\t}\r\n\r\n\tprivate static async SetRefreshToken(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._refreshTokenName, value);\r\n\t}\r\n\r\n\tprivate static async SetAccountName(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accountNameName, value);\r\n\t}\r\n\r\n\tprivate static async SetAccountId(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accountIdName, value);\r\n\t}\r\n\r\n\tprivate static GetParamsFromResponseUrl(response: string): Array<string>\r\n\t{\r\n\t\tconst values: Array<string> = [];\r\n\r\n\t\tif (!response)\r\n\t\t{\r\n\t\t\treturn values;\r\n\t\t}\r\n\r\n\t\tconst params = response.slice(response.indexOf('#') + 1).split('&');\r\n\r\n\t\tfor (let i = 0; i < params.length; i++)\r\n\t\t{\r\n\t\t\tconst param = params[i].split('=');\r\n\t\t\tvalues.push(param[0]);\r\n\t\t\tvalues[param[0]] = param[1];\r\n\t\t}\r\n\t\treturn values;\r\n\t}\r\n}\r\n\r\nexport default ImgurOptions;\r\n","import HandlerType from \"../handlers/HandlerType\";\r\nimport ExtensionOptionsBase from \"./ExtensionOptionsBase\";\r\n\r\nclass PrimaryOptions extends ExtensionOptionsBase\r\n{\r\n\tpublic static EnabledHandlers: HandlerType[] = [\r\n\t\tHandlerType.Imgur,\r\n\t\tHandlerType.Pomf,\r\n\t\tHandlerType.PostImage\r\n\t];\r\n\r\n\tprivate static readonly _handlerTypeName = \"HandlerType\";\r\n\r\n\tprivate static readonly _defaultOptions: browser.storage.StorageObject = {\r\n\t\t\"HandlerType\": `${HandlerType.Imgur}`\r\n\t};\r\n\r\n\tpublic static async GetHandlerType(): Promise<HandlerType>\r\n\t{\r\n\t\tconst handler = await this.GetOption<HandlerType>(this._handlerTypeName, this._defaultOptions);\r\n\r\n\t\treturn handler;\r\n\t}\r\n\r\n\tpublic static async SetHandlerType(value: HandlerType)\r\n\t{\r\n\t\tawait this.SetOption(this._handlerTypeName, value);\r\n\t}\r\n}\r\n\r\nexport default PrimaryOptions;\r\n","import $ from \"jquery\";\r\n\r\nimport HandlerType from \"../handlers/HandlerType\";\r\nimport ImgurOptions from \"./ImgurOptions\";\r\nimport PrimaryOptions from \"./PrimaryOptions\";\r\n\r\nasync function HandleSaveOptions(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconst currentHandlerType = $(\"#handlers\").val() as HandlerType;\r\n\r\n\tawait PrimaryOptions.SetHandlerType(currentHandlerType);\r\n}\r\n\r\nasync function InitializeHandlersOptions()\r\n{\r\n\tconst handlersLabelElement = $(\"#menu-handler-select-container\");\r\n\tconst handlersSelectElement = $(\"#handlers\");\r\n\r\n\thandlersLabelElement.prepend(browser.i18n.getMessage(\"optionsMenuHandlerSelectionLabel\"));\r\n\r\n\tPrimaryOptions.EnabledHandlers.forEach((handler) =>\r\n\t{\r\n\t\thandlersSelectElement.append($(`<option value=\"${handler}\">${HandlerType[handler]}</option>`));\r\n\t});\r\n\r\n\tconst currentHandlerType = await PrimaryOptions.GetHandlerType();\r\n\r\n\t$(`option[value=${currentHandlerType}]`).prop(\"selected\", true);\r\n\r\n\thandlersSelectElement.change(SetSecondaryMenu);\r\n}\r\n\r\nfunction SetSecondaryMenu()\r\n{\r\n\tconst handlerType = $(\"#handlers\").val() as HandlerType;\r\n\r\n\tconst noneOptions = $(\"#none-menu-container\");\r\n\tconst imgurOptions = $(\"#imgur-menu-container-container\");\r\n\r\n\tconst a = \"\";\r\n\r\n\tif (handlerType === HandlerType.Imgur)\r\n\t{\r\n\t\timgurOptions.removeClass(\"display-none\");\r\n\t\tnoneOptions.addClass(\"display-none\");\r\n\t}\r\n\telse\r\n\t{\r\n\t\timgurOptions.addClass(\"display-none\");\r\n\t\tnoneOptions.removeClass(\"display-none\");\r\n\t}\r\n}\r\n\r\nfunction UnhideBody()\r\n{\r\n\tconst bodyContainerElement = $(\"#body-container\");\r\n\tbodyContainerElement.addClass(\"unhidden\");\r\n\tbodyContainerElement.removeClass(\"hidden\");\r\n}\r\n\r\nfunction InitializeMainMenu()\r\n{\r\n\t// Menu title\r\n\tconst menuTitle = $(\"#menu-title\");\r\n\tmenuTitle.text(browser.i18n.getMessage(\"optionsMenuTitle\"));\r\n\r\n\t// Save button\r\n\tconst saveButton = $(\"#menu-save-button\");\r\n\tsaveButton.text(browser.i18n.getMessage(\"optionsSaveButton\"));\r\n\tsaveButton.click(HandleSaveOptions);\r\n}\r\n\r\nasync function HandleImgurAuth(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconsole.debug(\"Imgur auth... \");\r\n\r\n\tconst redirectURL = browser.identity.getRedirectURL();\r\n\tconst response = await browser.identity.launchWebAuthFlow({\r\n\t\turl: `https://api.imgur.com/oauth2/authorize?response_type=token&client_id=4a4f81163ed1219&redirect_uri=${encodeURIComponent(redirectURL)}`,\r\n\t\tinteractive: true\r\n\t});\r\n\r\n\tconst decodedResponse = decodeURIComponent(response);\r\n\r\n\tconsole.debug(`Decoded response: ${decodedResponse}`);\r\n\r\n\tawait ImgurOptions.SetAuthInfo(decodedResponse);\r\n\r\n\tawait SetImgurMenuState();\r\n}\r\n\r\nasync function HandleImgurUnauth(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconsole.debug(\"Imgur unauth... \");\r\n\r\n\tawait ImgurOptions.SetAuthInfo(undefined);\r\n\tawait SetImgurMenuState();\r\n}\r\n\r\nasync function SetImgurMenuState()\r\n{\r\n\tlet toHide = $(\"#imgur-authenticated-container\");\r\n\tlet toUnhide = $(\"#imgur-not-authenticated-container\");\r\n\r\n\tif (await ImgurOptions.GetAccessToken())\r\n\t{\r\n\t\tconst temp = toHide;\r\n\t\ttoHide = toUnhide;\r\n\t\ttoUnhide = temp;\r\n\r\n\t\t$(\"#imgur-account-info\").text(`${await ImgurOptions.GetAccountName()} (${await ImgurOptions.GetAccountId()})`);\r\n\t\t$(\"#imgur-auth-info\").text(`${await ImgurOptions.GetAccessToken()}`);\r\n\t}\r\n\r\n\ttoHide.addClass(\"display-none\");\r\n\ttoUnhide.removeClass(\"display-none\");\r\n}\r\n\r\nasync function InitializeImgurMenu()\r\n{\r\n\t// Imgur menu title\r\n\tconst imgurMenuTitle = $(\"#imgur-menu-title\");\r\n\timgurMenuTitle.text(browser.i18n.getMessage(\"optionsImgurMenuTitle\"));\r\n\r\n\t// Imgur auth button\r\n\tconst imgurAuthButton = $(\"#imgur-auth-button\");\r\n\timgurAuthButton.text(browser.i18n.getMessage(\"optionsImgurMenuAuthButton\"));\r\n\timgurAuthButton.click(HandleImgurAuth);\r\n\r\n\t// Imgur unauth button\r\n\tconst imgurUnauthButton = $(\"#imgur-unauth-button\");\r\n\timgurUnauthButton.text(browser.i18n.getMessage(\"optionsImgurMenuUnauthButton\"));\r\n\timgurUnauthButton.click(HandleImgurUnauth);\r\n\r\n\tawait SetImgurMenuState();\r\n}\r\n\r\nasync function InitializeOptions()\r\n{\r\n\tconsole.debug(\"Initializing options...\");\r\n\r\n\tawait InitializeHandlersOptions();\r\n\r\n\tInitializeMainMenu();\r\n\tawait InitializeImgurMenu();\r\n\tSetSecondaryMenu();\r\n\r\n\tUnhideBody();\r\n\r\n\tconsole.debug(\"Options initialized!\");\r\n}\r\n\r\n$(document).ready(async () =>\r\n{\r\n\tawait InitializeOptions();\r\n});\r\n"],"names":["HandlerType"],"mappings":"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"}