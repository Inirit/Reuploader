{"version":3,"file":"options.bundle.js","sources":["../../../ts/handlers/HandlerType.ts","../../../node_modules/strongly-typed-events/strongly-typed-events.js","../../../ts/options/ExtensionOptionsBase.ts","../../../ts/options/ImgurOptions.ts","../../../ts/options/PrimaryOptions.ts","../../../ts/options/OptionsMain.ts"],"sourcesContent":["enum HandlerType\r\n{\r\n\tPomf,\r\n\tImgur,\r\n\tPostImage\r\n}\r\n\r\nexport default HandlerType;\r\n","/*!\r\n * Strongly Typed Events for TypeScript - 1.0.1\r\n * https://github.com/KeesCBakker/StronlyTypedEvents/\r\n * http://keestalkstech.com\r\n *\r\n * Copyright Kees C. Bakker / KeesTalksTech\r\n * Released under the MIT license\r\n */\r\n\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n\"use strict\";\r\n/**\r\n * Stores a handler. Manages execution meta data.\r\n * @class Subscription\r\n * @template TEventHandler\r\n */\r\nvar Subscription = (function () {\r\n    /**\r\n     * Creates an instance of Subscription.\r\n     *\r\n     * @param {TEventHandler} handler The handler for the subscription.\r\n     * @param {boolean} isOnce Indicates if the handler should only be executed` once.\r\n     */\r\n    function Subscription(handler, isOnce) {\r\n        this.handler = handler;\r\n        this.isOnce = isOnce;\r\n        /**\r\n         * Indicates if the subscription has been executed before.\r\n         */\r\n        this.isExecuted = false;\r\n    }\r\n    /**\r\n     * Executes the handler.\r\n     *\r\n     * @param {boolean} executeAsync True if the even should be executed async.\r\n     * @param {*} The scope the scope of the event.\r\n     * @param {IArguments} args The arguments for the event.\r\n     */\r\n    Subscription.prototype.execute = function (executeAsync, scope, args) {\r\n        if (!this.isOnce || !this.isExecuted) {\r\n            this.isExecuted = true;\r\n            var fn = this.handler;\r\n            if (executeAsync) {\r\n                setTimeout(function () {\r\n                    fn.apply(scope, args);\r\n                }, 1);\r\n            }\r\n            else {\r\n                fn.apply(scope, args);\r\n            }\r\n        }\r\n    };\r\n    return Subscription;\r\n}());\r\nexports.Subscription = Subscription;\r\n/**\r\n * Base class for implementation of the dispatcher. It facilitates the subscribe\r\n * and unsubscribe methods based on generic handlers. The TEventType specifies\r\n * the type of event that should be exposed. Use the asEvent to expose the\r\n * dispatcher as event.\r\n */\r\nvar DispatcherBase = (function () {\r\n    function DispatcherBase() {\r\n        this._wrap = new DispatcherWrapper(this);\r\n        this._subscriptions = new Array();\r\n    }\r\n    /**\r\n     * Subscribe to the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherBase.prototype.subscribe = function (fn) {\r\n        if (fn) {\r\n            this._subscriptions.push(new Subscription(fn, false));\r\n        }\r\n    };\r\n    /**\r\n     * Subscribe to the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherBase.prototype.sub = function (fn) {\r\n        this.subscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribe once to the event with the specified name.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherBase.prototype.one = function (fn) {\r\n        if (fn) {\r\n            this._subscriptions.push(new Subscription(fn, true));\r\n        }\r\n    };\r\n    /**\r\n     * Checks it the event has a subscription for the specified handler.\r\n     * @param fn The event handler.\r\n     */\r\n    DispatcherBase.prototype.has = function (fn) {\r\n        if (fn) {\r\n            for (var _i = 0, _a = this._subscriptions; _i < _a.length; _i++) {\r\n                var sub = _a[_i];\r\n                if (sub.handler == fn) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Unsubscribes the handler from the dispatcher.\r\n     * @param fn The event handler.\r\n     */\r\n    DispatcherBase.prototype.unsubscribe = function (fn) {\r\n        if (fn) {\r\n            for (var i = 0; i < this._subscriptions.length; i++) {\r\n                var sub = this._subscriptions[i];\r\n                if (sub.handler == fn) {\r\n                    this._subscriptions.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Unsubscribes the handler from the dispatcher.\r\n     * @param fn The event handler.\r\n     */\r\n    DispatcherBase.prototype.unsub = function (fn) {\r\n        this.unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Generic dispatch will dispatch the handlers with the given arguments.\r\n     *\r\n     * @protected\r\n     * @param {boolean} executeAsync True if the even should be executed async.\r\n     * @param {*} The scope the scope of the event.\r\n     * @param {IArguments} args The arguments for the event.\r\n     */\r\n    DispatcherBase.prototype._dispatch = function (executeAsync, scope, args) {\r\n        for (var i = 0; i < this._subscriptions.length; i++) {\r\n            var sub = this._subscriptions[i];\r\n            if (sub.isOnce) {\r\n                if (sub.isExecuted === true) {\r\n                    continue;\r\n                }\r\n                this._subscriptions.splice(i, 1);\r\n                i--;\r\n            }\r\n            sub.execute(executeAsync, scope, args);\r\n        }\r\n    };\r\n    /**\r\n     * Creates an event from the dispatcher. Will return the dispatcher\r\n     * in a wrapper. This will prevent exposure of any dispatcher methods.\r\n     */\r\n    DispatcherBase.prototype.asEvent = function () {\r\n        return this._wrap;\r\n    };\r\n    /**\r\n     * Clears all the subscriptions.\r\n     */\r\n    DispatcherBase.prototype.clear = function () {\r\n        this._subscriptions.splice(0, this._subscriptions.length);\r\n    };\r\n    return DispatcherBase;\r\n}());\r\nexports.DispatcherBase = DispatcherBase;\r\n/**\r\n * Dispatcher implementation for events. Can be used to subscribe, unsubscribe\r\n * or dispatch events. Use the ToEvent() method to expose the event.\r\n */\r\nvar EventDispatcher = (function (_super) {\r\n    __extends(EventDispatcher, _super);\r\n    /**\r\n     * Creates a new EventDispatcher instance.\r\n     */\r\n    function EventDispatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Dispatches the event.\r\n     * @param sender The sender.\r\n     * @param args The arguments object.\r\n     */\r\n    EventDispatcher.prototype.dispatch = function (sender, args) {\r\n        this._dispatch(false, this, arguments);\r\n    };\r\n    /**\r\n     * Dispatches the events thread.\r\n     * @param sender The sender.\r\n     * @param args The arguments object.\r\n     */\r\n    EventDispatcher.prototype.dispatchAsync = function (sender, args) {\r\n        this._dispatch(true, this, arguments);\r\n    };\r\n    /**\r\n     * Creates an event from the dispatcher. Will return the dispatcher\r\n     * in a wrapper. This will prevent exposure of any dispatcher methods.\r\n     */\r\n    EventDispatcher.prototype.asEvent = function () {\r\n        return _super.prototype.asEvent.call(this);\r\n    };\r\n    return EventDispatcher;\r\n}(DispatcherBase));\r\nexports.EventDispatcher = EventDispatcher;\r\n/**\r\n * The dispatcher handles the storage of subsciptions and facilitates\r\n * subscription, unsubscription and dispatching of a simple event\r\n */\r\nvar SimpleEventDispatcher = (function (_super) {\r\n    __extends(SimpleEventDispatcher, _super);\r\n    /**\r\n     * Creates a new SimpleEventDispatcher instance.\r\n     */\r\n    function SimpleEventDispatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Dispatches the event.\r\n     * @param args The arguments object.\r\n     */\r\n    SimpleEventDispatcher.prototype.dispatch = function (args) {\r\n        this._dispatch(false, this, arguments);\r\n    };\r\n    /**\r\n     * Dispatches the events thread.\r\n     * @param args The arguments object.\r\n     */\r\n    SimpleEventDispatcher.prototype.dispatchAsync = function (args) {\r\n        this._dispatch(true, this, arguments);\r\n    };\r\n    /**\r\n     * Creates an event from the dispatcher. Will return the dispatcher\r\n     * in a wrapper. This will prevent exposure of any dispatcher methods.\r\n     */\r\n    SimpleEventDispatcher.prototype.asEvent = function () {\r\n        return _super.prototype.asEvent.call(this);\r\n    };\r\n    return SimpleEventDispatcher;\r\n}(DispatcherBase));\r\nexports.SimpleEventDispatcher = SimpleEventDispatcher;\r\n/**\r\n * The dispatcher handles the storage of subsciptions and facilitates\r\n * subscription, unsubscription and dispatching of a signal event.\r\n */\r\nvar SignalDispatcher = (function (_super) {\r\n    __extends(SignalDispatcher, _super);\r\n    /**\r\n     * Creates a new SignalDispatcher instance.\r\n     */\r\n    function SignalDispatcher() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Dispatches the signal.\r\n     */\r\n    SignalDispatcher.prototype.dispatch = function () {\r\n        this._dispatch(false, this, arguments);\r\n    };\r\n    /**\r\n     * Dispatches the signal threaded.\r\n     */\r\n    SignalDispatcher.prototype.dispatchAsync = function () {\r\n        this._dispatch(true, this, arguments);\r\n    };\r\n    /**\r\n     * Creates an event from the dispatcher. Will return the dispatcher\r\n     * in a wrapper. This will prevent exposure of any dispatcher methods.\r\n     */\r\n    SignalDispatcher.prototype.asEvent = function () {\r\n        return _super.prototype.asEvent.call(this);\r\n    };\r\n    return SignalDispatcher;\r\n}(DispatcherBase));\r\nexports.SignalDispatcher = SignalDispatcher;\r\n/**\r\n * Hides the implementation of the event dispatcher. Will expose methods that\r\n * are relevent to the event.\r\n */\r\nvar DispatcherWrapper = (function () {\r\n    /**\r\n     * Creates a new EventDispatcherWrapper instance.\r\n     * @param dispatcher The dispatcher.\r\n     */\r\n    function DispatcherWrapper(dispatcher) {\r\n        this._subscribe = function (fn) { return dispatcher.subscribe(fn); };\r\n        this._unsubscribe = function (fn) { return dispatcher.unsubscribe(fn); };\r\n        this._one = function (fn) { return dispatcher.one(fn); };\r\n        this._has = function (fn) { return dispatcher.has(fn); };\r\n        this._clear = function () { return dispatcher.clear(); };\r\n    }\r\n    /**\r\n     * Subscribe to the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherWrapper.prototype.subscribe = function (fn) {\r\n        this._subscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribe to the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherWrapper.prototype.sub = function (fn) {\r\n        this.subscribe(fn);\r\n    };\r\n    /**\r\n     * Unsubscribe from the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherWrapper.prototype.unsubscribe = function (fn) {\r\n        this._unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Unsubscribe from the event dispatcher.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherWrapper.prototype.unsub = function (fn) {\r\n        this.unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribe once to the event with the specified name.\r\n     * @param fn The event handler that is called when the event is dispatched.\r\n     */\r\n    DispatcherWrapper.prototype.one = function (fn) {\r\n        this._one(fn);\r\n    };\r\n    /**\r\n     * Checks it the event has a subscription for the specified handler.\r\n     * @param fn The event handler.\r\n     */\r\n    DispatcherWrapper.prototype.has = function (fn) {\r\n        return this._has(fn);\r\n    };\r\n    /**\r\n     * Clears all the subscriptions.\r\n     */\r\n    DispatcherWrapper.prototype.clear = function () {\r\n        this._clear();\r\n    };\r\n    return DispatcherWrapper;\r\n}());\r\nexports.DispatcherWrapper = DispatcherWrapper;\r\n/**\r\n * Base class for event lists classes. Implements the get and remove.\r\n */\r\nvar EventListBase = (function () {\r\n    function EventListBase() {\r\n        this._events = {};\r\n    }\r\n    /**\r\n     * Gets the dispatcher associated with the name.\r\n     * @param name The name of the event.\r\n     */\r\n    EventListBase.prototype.get = function (name) {\r\n        var event = this._events[name];\r\n        if (event) {\r\n            return event;\r\n        }\r\n        event = this.createDispatcher();\r\n        this._events[name] = event;\r\n        return event;\r\n    };\r\n    /**\r\n     * Removes the dispatcher associated with the name.\r\n     * @param name The name of the event.\r\n     */\r\n    EventListBase.prototype.remove = function (name) {\r\n        this._events[name] = null;\r\n    };\r\n    return EventListBase;\r\n}());\r\nexports.EventListBase = EventListBase;\r\n/**\r\n * Storage class for multiple events that are accessible by name.\r\n * Events dispatchers are automatically created.\r\n */\r\nvar EventList = (function (_super) {\r\n    __extends(EventList, _super);\r\n    /**\r\n     * Creates a new EventList instance.\r\n     */\r\n    function EventList() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Creates a new dispatcher instance.\r\n     */\r\n    EventList.prototype.createDispatcher = function () {\r\n        return new EventDispatcher();\r\n    };\r\n    return EventList;\r\n}(EventListBase));\r\nexports.EventList = EventList;\r\n/**\r\n * Storage class for multiple simple events that are accessible by name.\r\n * Events dispatchers are automatically created.\r\n */\r\nvar SimpleEventList = (function (_super) {\r\n    __extends(SimpleEventList, _super);\r\n    /**\r\n     * Creates a new SimpleEventList instance.\r\n     */\r\n    function SimpleEventList() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Creates a new dispatcher instance.\r\n     */\r\n    SimpleEventList.prototype.createDispatcher = function () {\r\n        return new SimpleEventDispatcher();\r\n    };\r\n    return SimpleEventList;\r\n}(EventListBase));\r\nexports.SimpleEventList = SimpleEventList;\r\n/**\r\n * Storage class for multiple signal events that are accessible by name.\r\n * Events dispatchers are automatically created.\r\n */\r\nvar SignalList = (function (_super) {\r\n    __extends(SignalList, _super);\r\n    /**\r\n     * Creates a new SignalList instance.\r\n     */\r\n    function SignalList() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Creates a new dispatcher instance.\r\n     */\r\n    SignalList.prototype.createDispatcher = function () {\r\n        return new SignalDispatcher();\r\n    };\r\n    return SignalList;\r\n}(EventListBase));\r\nexports.SignalList = SignalList;\r\n/**\r\n * Extends objects with event handling capabilities.\r\n */\r\nvar EventHandlingBase = (function () {\r\n    function EventHandlingBase() {\r\n        this._events = new EventList();\r\n    }\r\n    Object.defineProperty(EventHandlingBase.prototype, \"events\", {\r\n        /**\r\n         * Gets the list with all the event dispatchers.\r\n         */\r\n        get: function () {\r\n            return this._events;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.subscribe = function (name, fn) {\r\n        this._events.get(name).subscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.sub = function (name, fn) {\r\n        this.subscribe(name, fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.unsubscribe = function (name, fn) {\r\n        this._events.get(name).unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.unsub = function (name, fn) {\r\n        this.unsubscribe(name, fn);\r\n    };\r\n    /**\r\n     * Subscribes to once the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.one = function (name, fn) {\r\n        this._events.get(name).one(fn);\r\n    };\r\n    /**\r\n     * Subscribes to once the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    EventHandlingBase.prototype.has = function (name, fn) {\r\n        return this._events.get(name).has(fn);\r\n    };\r\n    return EventHandlingBase;\r\n}());\r\nexports.EventHandlingBase = EventHandlingBase;\r\n/**\r\n * Extends objects with simple event handling capabilities.\r\n */\r\nvar SimpleEventHandlingBase = (function () {\r\n    function SimpleEventHandlingBase() {\r\n        this._events = new SimpleEventList();\r\n    }\r\n    Object.defineProperty(SimpleEventHandlingBase.prototype, \"events\", {\r\n        get: function () {\r\n            return this._events;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.subscribe = function (name, fn) {\r\n        this._events.get(name).subscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.sub = function (name, fn) {\r\n        this.subscribe(name, fn);\r\n    };\r\n    /**\r\n     * Subscribes once to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.one = function (name, fn) {\r\n        this._events.get(name).one(fn);\r\n    };\r\n    /**\r\n     * Checks it the event has a subscription for the specified handler.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.has = function (name, fn) {\r\n        return this._events.get(name).has(fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.unsubscribe = function (name, fn) {\r\n        this._events.get(name).unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SimpleEventHandlingBase.prototype.unsub = function (name, fn) {\r\n        this.unsubscribe(name, fn);\r\n    };\r\n    return SimpleEventHandlingBase;\r\n}());\r\nexports.SimpleEventHandlingBase = SimpleEventHandlingBase;\r\n/**\r\n * Extends objects with signal event handling capabilities.\r\n */\r\nvar SignalHandlingBase = (function () {\r\n    function SignalHandlingBase() {\r\n        this._events = new SignalList();\r\n    }\r\n    Object.defineProperty(SignalHandlingBase.prototype, \"events\", {\r\n        get: function () {\r\n            return this._events;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Subscribes once to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.one = function (name, fn) {\r\n        this._events.get(name).one(fn);\r\n    };\r\n    /**\r\n     * Checks it the event has a subscription for the specified handler.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.has = function (name, fn) {\r\n        return this._events.get(name).has(fn);\r\n    };\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.subscribe = function (name, fn) {\r\n        this._events.get(name).subscribe(fn);\r\n    };\r\n    /**\r\n     * Subscribes to the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.sub = function (name, fn) {\r\n        this.subscribe(name, fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.unsubscribe = function (name, fn) {\r\n        this._events.get(name).unsubscribe(fn);\r\n    };\r\n    /**\r\n     * Unsubscribes from the event with the specified name.\r\n     * @param name The name of the event.\r\n     * @param fn The event handler.\r\n     */\r\n    SignalHandlingBase.prototype.unsub = function (name, fn) {\r\n        this.unsubscribe(name, fn);\r\n    };\r\n    return SignalHandlingBase;\r\n}());\r\nexports.SignalHandlingBase = SignalHandlingBase;\r\nfunction createEventDispatcher() {\r\n    return new EventDispatcher();\r\n}\r\nexports.createEventDispatcher = createEventDispatcher;\r\n;\r\nfunction createEventList() {\r\n    return new EventList();\r\n}\r\nexports.createEventList = createEventList;\r\nfunction createSimpleEventDispatcher() {\r\n    return new SimpleEventDispatcher();\r\n}\r\nexports.createSimpleEventDispatcher = createSimpleEventDispatcher;\r\n;\r\nfunction createSimpleEventList() {\r\n    return new SimpleEventList();\r\n}\r\nexports.createSimpleEventList = createSimpleEventList;\r\nfunction createSignalDispatcher() {\r\n    return new SignalDispatcher();\r\n}\r\nexports.createSignalDispatcher = createSignalDispatcher;\r\n;\r\nfunction createSignalList() {\r\n    return new SignalList();\r\n}\r\nexports.createSignalList = createSignalList;\r\n;\r\nvar StronglyTypedEventsStatic = {\r\n    EventList: EventList,\r\n    SimpleEventList: SimpleEventList,\r\n    SignalList: SignalList,\r\n    createEventList: createEventList,\r\n    createSimpleEventList: createSimpleEventList,\r\n    createSignalList: createSignalList,\r\n    EventDispatcher: EventDispatcher,\r\n    SimpleEventDispatcher: SimpleEventDispatcher,\r\n    SignalDispatcher: SignalDispatcher,\r\n    EventHandlingBase: EventHandlingBase,\r\n    SimpleEventHandlingBase: SimpleEventHandlingBase,\r\n    SignalHandlingBase: SignalHandlingBase,\r\n    createEventDispatcher: createEventDispatcher,\r\n    createSimpleEventDispatcher: createSimpleEventDispatcher,\r\n    createSignalDispatcher: createSignalDispatcher,\r\n    EventListBase: EventListBase,\r\n    DispatcherBase: DispatcherBase,\r\n    DispatcherWrapper: DispatcherWrapper\r\n};\r\nexports.IStronglyTypedEvents = StronglyTypedEventsStatic;\r\nvar _e = exports.IStronglyTypedEvents;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = StronglyTypedEventsStatic;\r\n","abstract class ExtensionOptionsBase\r\n{\r\n\tprotected static async GetOptions(defaultOptions: browser.storage.StorageObject): Promise<browser.storage.StorageObject>\r\n\t{\r\n\t\tconst options = await browser.storage.local.get(defaultOptions);\r\n\r\n\t\treturn options;\r\n\t}\r\n\r\n\tprotected static async GetOption<T extends browser.storage.StorageValue>(name: string, defaultOptions: browser.storage.StorageObject)\r\n\t{\r\n\t\tconst options = await this.GetOptions(defaultOptions);\r\n\t\tconst value = options[name];\r\n\r\n\t\tconsole.debug(`Got '${name}' with value '${value}'`);\r\n\r\n\t\treturn value as T;\r\n\t}\r\n\r\n\tprotected static async SetOption(name: string, value: browser.storage.StorageValue)\r\n\t{\r\n\t\tconsole.debug(`Setting '${name}' to '${value}'`);\r\n\r\n\t\tif (value)\r\n\t\t{\r\n\t\t\tconst options = await browser.storage.local.get(name);\r\n\t\t\toptions[name] = value;\r\n\r\n\t\t\tawait browser.storage.local.set(options);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tawait browser.storage.local.remove(name);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default ExtensionOptionsBase;\r\n","import { ISimpleEvent, SimpleEventDispatcher } from \"strongly-typed-events\";\r\n\r\nimport ExtensionOptionsBase from \"./ExtensionOptionsBase\";\r\n\r\nclass ImgurOptions extends ExtensionOptionsBase\r\n{\r\n\tpublic static readonly ClientId: string = \"4a4f81163ed1219\";\r\n\tpublic static readonly ClientSecret: string = \"20e4c6d9d9cbc2554f08bd2c8c450b271cda7bb8\";\r\n\r\n\tprivate static readonly _defaultOptions: browser.storage.StorageObject = {\r\n\t\tAccessToken: undefined,\r\n\t\tExpirationTime: undefined,\r\n\t\tTokenType: undefined,\r\n\t\tRefreshToken: undefined,\r\n\t\tAccountName: undefined,\r\n\t\tAccountId: undefined\r\n\t};\r\n\r\n\tprivate static readonly _accessTokenName = \"AccessToken\";\r\n\tprivate static readonly _expirationTime = \"ExpirationTime\";\r\n\tprivate static readonly _tokenTypeName = \"TokenType\";\r\n\tprivate static readonly _refreshTokenName = \"RefreshToken\";\r\n\tprivate static readonly _accountNameName = \"AccountName\";\r\n\tprivate static readonly _accountIdName = \"AccountId\";\r\n\r\n\tprivate static _authStateChange = new SimpleEventDispatcher<boolean>();\r\n\r\n\tpublic static get onAuthStateChange(): ISimpleEvent<boolean>\r\n\t{\r\n\t\treturn this._authStateChange.asEvent();\r\n\t}\r\n\r\n\tpublic static async GetAccessToken(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accessTokenName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetExpirationTime(): Promise<number>\r\n\t{\r\n\t\tconst value = await this.GetOption<number>(this._expirationTime, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetTokenType(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._tokenTypeName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetRefreshToken(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._refreshTokenName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetAccountName(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accountNameName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async GetAccountId(): Promise<string>\r\n\t{\r\n\t\tconst value = await this.GetOption<string>(this._accountIdName, this._defaultOptions);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic static async SetAuthInfo(authInfo: string[])\r\n\t{\r\n\t\tconst currentAuthState = await this.IsAuthed();\r\n\r\n\t\tif (authInfo[\"error\"])\r\n\t\t{\r\n\t\t\tthis.ClearAuthInfo();\r\n\r\n\t\t\tconsole.debug(`SetAuthInfo failed with error: ${authInfo[\"error\"]}`);\r\n\t\t\tthrow new Error(`SetAuthInfo failed with error: ${authInfo[\"error\"]}`);\r\n\t\t}\r\n\r\n\t\tawait this.SetAccessToken(authInfo[\"access_token\"]);\r\n\t\tawait this.SetExpirationTime(authInfo[\"expires_in\"]);\r\n\t\tawait this.SetTokenType(authInfo[\"token_type\"]);\r\n\t\tawait this.SetRefreshToken(authInfo[\"refresh_token\"]);\r\n\t\tawait this.SetAccountName(authInfo[\"account_username\"]);\r\n\r\n\t\tconst newAuthState = await this.IsAuthed();\r\n\r\n\t\tif ((newAuthState && authInfo[\"account_id\"]) || !newAuthState)\r\n\t\t{\r\n\t\t\tawait this.SetAccountId(authInfo[\"account_id\"]);\r\n\t\t}\r\n\r\n\t\tif (currentAuthState !== newAuthState)\r\n\t\t{\r\n\t\t\tthis._authStateChange.dispatch(newAuthState);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static async ClearAuthInfo()\r\n\t{\r\n\t\tawait this.SetAuthInfo(new Array<string>());\r\n\t}\r\n\r\n\tpublic static async IsAuthed(): Promise<boolean>\r\n\t{\r\n\t\tlet isAuthed: boolean;\r\n\r\n\t\tif (await this.GetAccessToken())\r\n\t\t{\r\n\t\t\tisAuthed = true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tisAuthed = false;\r\n\t\t}\r\n\r\n\t\treturn isAuthed;\r\n\t}\r\n\r\n\tprivate static async SetAccessToken(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accessTokenName, value);\r\n\t}\r\n\r\n\tprivate static async SetExpirationTime(value: string)\r\n\t{\r\n\t\tlet expirationTime: number;\r\n\r\n\t\tif (value)\r\n\t\t{\r\n\t\t\tconst expiresInMs = parseInt(value, 10) * 1000;\r\n\t\t\tconst currentTime = Date.now();\r\n\r\n\t\t\texpirationTime = currentTime + expiresInMs;\r\n\t\t}\r\n\r\n\t\tawait this.SetOption(this._expirationTime, expirationTime);\r\n\t}\r\n\r\n\tprivate static async SetTokenType(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._tokenTypeName, value);\r\n\t}\r\n\r\n\tprivate static async SetRefreshToken(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._refreshTokenName, value);\r\n\t}\r\n\r\n\tprivate static async SetAccountName(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accountNameName, value);\r\n\t}\r\n\r\n\tprivate static async SetAccountId(value: string)\r\n\t{\r\n\t\tawait this.SetOption(this._accountIdName, value);\r\n\t}\r\n}\r\n\r\nexport default ImgurOptions;\r\n","import HandlerType from \"../handlers/HandlerType\";\r\nimport ExtensionOptionsBase from \"./ExtensionOptionsBase\";\r\n\r\nclass PrimaryOptions extends ExtensionOptionsBase\r\n{\r\n\tpublic static EnabledHandlers: HandlerType[] = [\r\n\t\tHandlerType.Imgur,\r\n\t\tHandlerType.Pomf,\r\n\t\tHandlerType.PostImage\r\n\t];\r\n\r\n\tprivate static readonly _handlerTypeName = \"HandlerType\";\r\n\r\n\tprivate static readonly _defaultOptions: browser.storage.StorageObject = {\r\n\t\tHandlerType: `${HandlerType.Imgur}`\r\n\t};\r\n\r\n\tpublic static async GetHandlerType(): Promise<HandlerType>\r\n\t{\r\n\t\tconst handler = await this.GetOption<HandlerType>(this._handlerTypeName, this._defaultOptions);\r\n\r\n\t\treturn handler;\r\n\t}\r\n\r\n\tpublic static async SetHandlerType(value: HandlerType)\r\n\t{\r\n\t\tawait this.SetOption(this._handlerTypeName, value);\r\n\t}\r\n}\r\n\r\nexport default PrimaryOptions;\r\n","import $ from \"jquery\";\r\n\r\nimport HandlerType from \"../handlers/HandlerType\";\r\nimport ImgurOptions from \"./ImgurOptions\";\r\nimport PrimaryOptions from \"./PrimaryOptions\";\r\n\r\nasync function HandleSaveOptions(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconst currentHandlerType = $(\"#handlers\").val() as HandlerType;\r\n\r\n\tawait PrimaryOptions.SetHandlerType(currentHandlerType);\r\n}\r\n\r\nasync function InitializeHandlersOptions()\r\n{\r\n\tconst handlersLabelElement = $(\"#menu-handler-select-container\");\r\n\tconst handlersSelectElement = $(\"#handlers\");\r\n\r\n\thandlersLabelElement.prepend(browser.i18n.getMessage(\"optionsMenuHandlerSelectionLabel\"));\r\n\r\n\tPrimaryOptions.EnabledHandlers.forEach((handler) =>\r\n\t{\r\n\t\thandlersSelectElement.append($(`<option value=\"${handler}\">${HandlerType[handler]}</option>`));\r\n\t});\r\n\r\n\tconst currentHandlerType = await PrimaryOptions.GetHandlerType();\r\n\r\n\t$(`option[value=${currentHandlerType}]`).prop(\"selected\", true);\r\n\r\n\thandlersSelectElement.change(SetSecondaryMenu);\r\n}\r\n\r\nfunction SetSecondaryMenu()\r\n{\r\n\tconst handlerType = $(\"#handlers\").val() as HandlerType;\r\n\r\n\tconst noneOptions = $(\"#none-menu-container\");\r\n\tconst imgurOptions = $(\"#imgur-menu-container-container\");\r\n\r\n\t// tslint:disable-next-line:triple-equals\r\n\tif (handlerType == HandlerType.Imgur)\r\n\t{\r\n\t\timgurOptions.removeClass(\"display-none\");\r\n\t\tnoneOptions.addClass(\"display-none\");\r\n\t}\r\n\telse\r\n\t{\r\n\t\timgurOptions.addClass(\"display-none\");\r\n\t\tnoneOptions.removeClass(\"display-none\");\r\n\t}\r\n}\r\n\r\nfunction UnhideBody()\r\n{\r\n\tconst bodyContainerElement = $(\"#body-container\");\r\n\tbodyContainerElement.addClass(\"unhidden\");\r\n\tbodyContainerElement.removeClass(\"hidden\");\r\n}\r\n\r\nfunction InitializeMainMenu()\r\n{\r\n\t// Menu title\r\n\tconst menuTitle = $(\"#menu-title\");\r\n\tmenuTitle.text(browser.i18n.getMessage(\"optionsMenuTitle\"));\r\n\r\n\t// Save button\r\n\tconst saveButton = $(\"#menu-save-button\");\r\n\tsaveButton.text(browser.i18n.getMessage(\"optionsSaveButton\"));\r\n\tsaveButton.click(HandleSaveOptions);\r\n}\r\n\r\nasync function HandleImgurAuth(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconsole.debug(\"Imgur auth... \");\r\n\r\n\tconst redirectURL = browser.identity.getRedirectURL();\r\n\tconst response = await browser.identity.launchWebAuthFlow({\r\n\t\turl: `https://api.imgur.com/oauth2/authorize?response_type=token&client_id=${ImgurOptions.ClientId}&redirect_uri=${encodeURIComponent(redirectURL)}`,\r\n\t\tinteractive: true\r\n\t});\r\n\r\n\tconst decodedResponse = decodeURIComponent(response);\r\n\tconst authInfo = GetParamsFromResponseUrl(decodedResponse);\r\n\r\n\tawait ImgurOptions.SetAuthInfo(authInfo);\r\n}\r\n\r\nfunction GetParamsFromResponseUrl(response: string): any\r\n{\r\n\tconst values: string[] = new Array<string>();\r\n\r\n\tif (!response)\r\n\t{\r\n\t\treturn values;\r\n\t}\r\n\r\n\tconst params = response.slice(response.indexOf(\"#\") + 1).split(\"&\");\r\n\r\n\tfor (const param of params)\r\n\t{\r\n\t\tconst paramPair = param.split(\"=\");\r\n\r\n\t\tvalues[paramPair[0]] = paramPair[1];\r\n\t}\r\n\treturn values;\r\n}\r\n\r\nasync function HandleImgurUnauth(e)\r\n{\r\n\te.preventDefault();\r\n\r\n\tconsole.debug(\"Imgur unauth... \");\r\n\r\n\tawait ImgurOptions.ClearAuthInfo();\r\n}\r\n\r\nasync function SetImgurMenuState(isAuthed: boolean)\r\n{\r\n\tlet toHide = $(\"#imgur-authenticated-container\");\r\n\tlet toUnhide = $(\"#imgur-not-authenticated-container\");\r\n\r\n\tif (isAuthed)\r\n\t{\r\n\t\tconst temp = toHide;\r\n\t\ttoHide = toUnhide;\r\n\t\ttoUnhide = temp;\r\n\r\n\t\t// $(\"#imgur-account-info\").text(`${await ImgurOptions.GetAccountName()} (${await ImgurOptions.GetAccountId()})`);\r\n\t\t// $(\"#imgur-auth-info\").text(`${await ImgurOptions.GetAccessToken()}`);\r\n\r\n\t\tconst accountName = await ImgurOptions.GetAccountName();\r\n\t\tconst profileUrl = `<a href=\"https://imgur.com/user/${accountName}\">${accountName}</a>`;\r\n\t\tconst authInfoString = browser.i18n.getMessage(\"imgurAuthUser\", profileUrl);\r\n\r\n\t\t// $(\"#imgur-profile-link\").attr(\"href\", profileUrl);\r\n\t\t// $(\"#imgur-profile-link\").text(accountName);\r\n\r\n\t\t$(\"#imgur-account-info-container\").html(authInfoString);\r\n\t}\r\n\r\n\ttoHide.addClass(\"display-none\");\r\n\ttoUnhide.removeClass(\"display-none\");\r\n}\r\n\r\nasync function InitializeImgurMenu()\r\n{\r\n\t// Imgur menu title\r\n\tconst imgurMenuTitle = $(\"#imgur-menu-title\");\r\n\timgurMenuTitle.text(browser.i18n.getMessage(\"optionsImgurMenuTitle\"));\r\n\r\n\t// Imgur auth button\r\n\tconst imgurAuthButton = $(\"#imgur-auth-button\");\r\n\timgurAuthButton.text(browser.i18n.getMessage(\"optionsImgurMenuAuthButton\"));\r\n\timgurAuthButton.click(HandleImgurAuth);\r\n\r\n\t// Imgur unauth button\r\n\tconst imgurUnauthButton = $(\"#imgur-unauth-button\");\r\n\timgurUnauthButton.text(browser.i18n.getMessage(\"optionsImgurMenuUnauthButton\"));\r\n\timgurUnauthButton.click(HandleImgurUnauth);\r\n\r\n\tconst isAuthed = await ImgurOptions.IsAuthed();\r\n\tawait SetImgurMenuState(isAuthed);\r\n\r\n\tImgurOptions.onAuthStateChange.subscribe(async (a) => await SetImgurMenuState(a));\r\n}\r\n\r\nasync function InitializeOptions()\r\n{\r\n\tconsole.debug(\"Initializing options...\");\r\n\r\n\tawait InitializeHandlersOptions();\r\n\r\n\tInitializeMainMenu();\r\n\tawait InitializeImgurMenu();\r\n\tSetSecondaryMenu();\r\n\r\n\tUnhideBody();\r\n\r\n\tconsole.debug(\"Options initialized!\");\r\n}\r\n\r\n$(document).ready(async () =>\r\n{\r\n\tawait InitializeOptions();\r\n});\r\n"],"names":["this","SimpleEventDispatcher","HandlerType"],"mappings":"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"}